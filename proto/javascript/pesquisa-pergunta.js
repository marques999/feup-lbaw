function fetchQuestions(){$.getJSON("../../api/pesquisa/get_perguntas.php",{query:lastQuery,filter:lastFilter,sort:lastSort,order:lastOrder}).done(function(a){printQuestions(a),getCurrentFilter().addClass("active"),getCurrentSort().addClass("active")})}function printQuestions(a){var e=$("div#content").empty();a.length<1&&e.append('<p class="condensed">NÃ£o foram encontrados quaisquer resultados.</p>');for(var s=0;s<a.length;s++){var t=a[s];t.pontuacao>0?t.scoretype="positive-score":t.pontuacao<0?t.scoretype="negative-score":t.scoretype="",t.ativa?t.badge="":t.badge='<span class="small">\n<i class="fa fa-check"></i>\n<span>fechada</span>\n</span>',t.removido?t.linkautor='<span class="medium">'+t.nomeutilizador+"</span>":t.linkautor='<a class="medium" href="../utilizador/profile.php?id='+t.idutilizador+'">'+t.nomeutilizador+"</a>",e.append(nano('<div><h5 class="slab quarter-vertical-space"><a class="black" href="../pergunta/view.php?id={idpergunta}">{titulo}</a>{badge}</h5><div class="condensed author-panel quarter-vertical-space"><div><p class="no-margin">{linkautor}\n&bull;\n<small>{datahora}</small>\n&bull;\n<span class="medium">\n<strong>{respostas}</strong>\nrespostas\n</span>\n&bull;\n<span class="medium"><strong class="{scoretype}">{pontuacao}</strong>\npontos</span></p></div></div><p class="medium highlight no-margin align-justify">{descricao}\n<a class="black fw-700" href="../pergunta/view.php?id={idpergunta}">ver mais <i class="fa fa-arrow-circle-right"></i></a></p></div>',t)),s!=a.length-1&&e.append("<hr>")}}$(function(){setCallback(fetchQuestions),setDefaults("year","rank","descending"),registerFilter($("li.filter-option")),registerSort($("li.sort-option")),executeCallback()});